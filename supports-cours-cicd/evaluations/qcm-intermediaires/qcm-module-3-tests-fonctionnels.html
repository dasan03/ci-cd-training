<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM Module 3 - Tests Fonctionnels et Non-Fonctionnels</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #007acc;
        }
        .header h1 {
            color: #007acc;
            margin-bottom: 10px;
        }
        .info-box {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 25px;
            border-left: 4px solid #007acc;
        }
        .question {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        .question h3 {
            color: #333;
            margin-bottom: 15px;
        }
        .options {
            margin: 15px 0;
        }
        .option {
            margin: 8px 0;
            padding: 8px;
        }
        .option input {
            margin-right: 10px;
        }
        .association-container {
            display: flex;
            gap: 20px;
            margin: 15px 0;
        }
        .association-column {
            flex: 1;
        }
        .association-item {
            padding: 8px;
            margin: 5px 0;
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .explanation {
            background: #f0f8ff;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            border-left: 3px solid #007acc;
            display: none;
        }
        .competence-badge {
            display: inline-block;
            background: #007acc;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-left: 10px;
        }
        .difficulty {
            float: right;
            font-size: 0.9em;
            color: #666;
        }
        .difficulty.facile { color: #28a745; }
        .difficulty.moyen { color: #ffc107; }
        .difficulty.difficile { color: #dc3545; }
        .submit-btn {
            background: #007acc;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 20px 0;
        }
        .submit-btn:hover {
            background: #005a9e;
        }
        .results {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
        }
        .timer {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #007acc;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="timer" id="timer">25:00</div>
    
    <div class="container">
        <div class="header">
            <h1>QCM Module 3 - Tests Fonctionnels et Non-Fonctionnels</h1>
            <p>Évaluation des connaissances acquises sur les tests fonctionnels automatisés, les tests de performance, de charge et de sécurité</p>
        </div>

        <div class="info-box">
            <h4>Instructions :</h4>
            <ul>
                <li>Vous disposez de <strong>25 minutes</strong> pour répondre aux 12 questions</li>
                <li>Lisez attentivement chaque question avant de répondre</li>
                <li>Pour les questions à choix multiples, une seule réponse est correcte</li>
                <li>Pour les questions vrai/faux, cochez la case correspondante</li>
                <li>Pour les questions d'association, reliez chaque élément de gauche à son correspondant de droite</li>
                <li>Le seuil de réussite est fixé à <strong>70%</strong></li>
            </ul>
        </div>

        <form id="qcmForm">
            <!-- Question 1 -->
            <div class="question">
                <h3>Question 1 <span class="competence-badge">C17</span> <span class="difficulty moyen">Moyen</span></h3>
                <p>Quelle est la différence principale entre Selenium et Cypress pour les tests UI ?</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q1" value="0" id="q1_0">
                        <label for="q1_0">Selenium supporte plusieurs navigateurs, Cypress est limité à Chrome/Firefox/Edge</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q1" value="1" id="q1_1">
                        <label for="q1_1">Cypress est plus rapide et moderne, Selenium est plus mature et polyvalent</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q1" value="2" id="q1_2">
                        <label for="q1_2">Selenium est gratuit, Cypress est payant</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q1" value="3" id="q1_3">
                        <label for="q1_3">Il n'y a aucune différence significative</label>
                    </div>
                </div>
                <div class="explanation" id="exp1">
                    <strong>Explication :</strong> Cypress est plus moderne avec une architecture différente qui le rend plus rapide et stable, mais Selenium est plus mature, supporte plus de langages de programmation et de navigateurs, offrant une plus grande polyvalence pour les équipes.
                </div>
            </div>

            <!-- Question 2 -->
            <div class="question">
                <h3>Question 2 <span class="competence-badge">C17</span> <span class="difficulty facile">Facile</span></h3>
                <p>Les tests API sont généralement plus rapides et plus stables que les tests UI.</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q2" value="true" id="q2_true">
                        <label for="q2_true">Vrai</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q2" value="false" id="q2_false">
                        <label for="q2_false">Faux</label>
                    </div>
                </div>
                <div class="explanation" id="exp2">
                    <strong>Explication :</strong> Vrai. Les tests API sont plus rapides car ils n'impliquent pas de rendu d'interface utilisateur, et plus stables car ils ne dépendent pas des éléments visuels qui peuvent changer. Ils testent directement la logique métier.
                </div>
            </div>

            <!-- Question 3 -->
            <div class="question">
                <h3>Question 3 <span class="competence-badge">C18</span> <span class="difficulty facile">Facile</span></h3>
                <p>Dans JMeter, que représente un 'Thread Group' ?</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q3" value="0" id="q3_0">
                        <label for="q3_0">Un groupe de serveurs à tester</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q3" value="1" id="q3_1">
                        <label for="q3_1">Un ensemble d'utilisateurs virtuels simulés</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q3" value="2" id="q3_2">
                        <label for="q3_2">Une collection de requêtes HTTP</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q3" value="3" id="q3_3">
                        <label for="q3_3">Un type de rapport de performance</label>
                    </div>
                </div>
                <div class="explanation" id="exp3">
                    <strong>Explication :</strong> Un Thread Group dans JMeter représente un ensemble d'utilisateurs virtuels (threads) qui exécutent le même scénario de test. Chaque thread simule un utilisateur réel effectuant des actions sur l'application.
                </div>
            </div>

            <!-- Question 4 -->
            <div class="question">
                <h3>Question 4 <span class="competence-badge">C18</span> <span class="difficulty moyen">Moyen</span></h3>
                <p>Associez chaque type de test de performance à sa définition :</p>
                <div class="association-container">
                    <div class="association-column">
                        <h4>Types de test :</h4>
                        <div class="association-item">Test de charge</div>
                        <div class="association-item">Test de stress</div>
                        <div class="association-item">Test de pic</div>
                    </div>
                    <div class="association-column">
                        <h4>Définitions :</h4>
                        <div class="association-item">Teste le comportement sous une charge soudaine et importante</div>
                        <div class="association-item">Teste le comportement sous la charge normale attendue</div>
                        <div class="association-item">Teste le comportement au-delà des limites normales</div>
                    </div>
                </div>
                <p><em>Réponses : Test de charge → Charge normale, Test de stress → Au-delà des limites, Test de pic → Charge soudaine</em></p>
                <div class="explanation" id="exp4">
                    <strong>Explication :</strong> Le test de charge vérifie les performances sous charge normale, le test de stress pousse le système au-delà de ses limites pour identifier le point de rupture, et le test de pic simule des augmentations soudaines de trafic.
                </div>
            </div>

            <!-- Question 5 -->
            <div class="question">
                <h3>Question 5 <span class="competence-badge">C18</span> <span class="difficulty facile">Facile</span></h3>
                <p>Quel est l'objectif principal d'OWASP ZAP dans les tests de sécurité ?</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q5" value="0" id="q5_0">
                        <label for="q5_0">Tester les performances de l'application</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q5" value="1" id="q5_1">
                        <label for="q5_1">Identifier les vulnérabilités de sécurité web</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q5" value="2" id="q5_2">
                        <label for="q5_2">Automatiser les tests fonctionnels</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q5" value="3" id="q5_3">
                        <label for="q5_3">Monitorer les temps de réponse</label>
                    </div>
                </div>
                <div class="explanation" id="exp5">
                    <strong>Explication :</strong> OWASP ZAP (Zed Attack Proxy) est un outil de test de sécurité qui identifie automatiquement les vulnérabilités web comme les injections SQL, XSS, CSRF, etc. Il fait partie du projet OWASP (Open Web Application Security Project).
                </div>
            </div>

            <!-- Question 6 -->
            <div class="question">
                <h3>Question 6 <span class="competence-badge">C18</span> <span class="difficulty moyen">Moyen</span></h3>
                <p>Les tests de sécurité doivent uniquement être effectués en fin de développement avant la mise en production.</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q6" value="true" id="q6_true">
                        <label for="q6_true">Vrai</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q6" value="false" id="q6_false">
                        <label for="q6_false">Faux</label>
                    </div>
                </div>
                <div class="explanation" id="exp6">
                    <strong>Explication :</strong> Faux. Les tests de sécurité doivent être intégrés tout au long du cycle de développement (Security by Design). Plus tôt les vulnérabilités sont détectées, moins elles coûtent à corriger. L'approche 'Shift Left Security' préconise des tests de sécurité dès les premières phases.
                </div>
            </div>

            <!-- Question 7 -->
            <div class="question">
                <h3>Question 7 <span class="competence-badge">C18</span> <span class="difficulty facile">Facile</span></h3>
                <p>Quelle métrique est la plus importante pour évaluer la performance d'une API REST ?</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q7" value="0" id="q7_0">
                        <label for="q7_0">Le nombre de lignes de code</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q7" value="1" id="q7_1">
                        <label for="q7_1">Le temps de réponse moyen</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q7" value="2" id="q7_2">
                        <label for="q7_2">La taille des fichiers de log</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q7" value="3" id="q7_3">
                        <label for="q7_3">Le nombre de développeurs dans l'équipe</label>
                    </div>
                </div>
                <div class="explanation" id="exp7">
                    <strong>Explication :</strong> Le temps de réponse moyen est une métrique clé pour évaluer la performance d'une API REST. D'autres métriques importantes incluent le débit (throughput), le taux d'erreur et les percentiles (P95, P99) pour comprendre la distribution des temps de réponse.
                </div>
            </div>

            <!-- Question 8 -->
            <div class="question">
                <h3>Question 8 <span class="competence-badge">C17</span> <span class="difficulty moyen">Moyen</span></h3>
                <p>Dans Postman, que permet de faire la fonctionnalité 'Collection Runner' ?</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q8" value="0" id="q8_0">
                        <label for="q8_0">Créer des collections de requêtes</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q8" value="1" id="q8_1">
                        <label for="q8_1">Exécuter automatiquement une série de requêtes avec des tests</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q8" value="2" id="q8_2">
                        <label for="q8_2">Importer des fichiers de configuration</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q8" value="3" id="q8_3">
                        <label for="q8_3">Générer de la documentation API</label>
                    </div>
                </div>
                <div class="explanation" id="exp8">
                    <strong>Explication :</strong> Le Collection Runner de Postman permet d'exécuter automatiquement toutes les requêtes d'une collection dans un ordre défini, avec la possibilité d'utiliser des données externes (CSV/JSON) et d'exécuter les tests associés à chaque requête.
                </div>
            </div>

            <!-- Question 9 -->
            <div class="question">
                <h3>Question 9 <span class="competence-badge">C18</span> <span class="difficulty facile">Facile</span></h3>
                <p>Snyk peut analyser les vulnérabilités dans les dépendances de votre projet automatiquement.</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q9" value="true" id="q9_true">
                        <label for="q9_true">Vrai</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q9" value="false" id="q9_false">
                        <label for="q9_false">Faux</label>
                    </div>
                </div>
                <div class="explanation" id="exp9">
                    <strong>Explication :</strong> Vrai. Snyk analyse automatiquement les dépendances de votre projet (npm, Maven, pip, etc.) pour identifier les vulnérabilités connues et propose des corrections. Il peut s'intégrer dans les pipelines CI/CD pour un contrôle continu.
                </div>
            </div>

            <!-- Question 10 -->
            <div class="question">
                <h3>Question 10 <span class="competence-badge">C17</span> <span class="difficulty moyen">Moyen</span></h3>
                <p>Associez chaque outil à son domaine d'application principal :</p>
                <div class="association-container">
                    <div class="association-column">
                        <h4>Outils :</h4>
                        <div class="association-item">RestAssured</div>
                        <div class="association-item">Grafana</div>
                        <div class="association-item">OWASP ZAP</div>
                    </div>
                    <div class="association-column">
                        <h4>Domaines :</h4>
                        <div class="association-item">Visualisation et monitoring des métriques</div>
                        <div class="association-item">Tests de sécurité et scan de vulnérabilités</div>
                        <div class="association-item">Tests automatisés d'API REST</div>
                    </div>
                </div>
                <p><em>Réponses : RestAssured → Tests API REST, Grafana → Visualisation, OWASP ZAP → Tests sécurité</em></p>
                <div class="explanation" id="exp10">
                    <strong>Explication :</strong> RestAssured est une bibliothèque Java pour tester les API REST, Grafana est une plateforme de visualisation pour créer des dashboards de monitoring, et OWASP ZAP est un outil de test de sécurité pour identifier les vulnérabilités web.
                </div>
            </div>

            <!-- Question 11 -->
            <div class="question">
                <h3>Question 11 <span class="competence-badge">C18</span> <span class="difficulty difficile">Difficile</span></h3>
                <p>Quelle est la meilleure pratique pour les tests de charge dans un environnement cloud ?</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q11" value="0" id="q11_0">
                        <label for="q11_0">Utiliser uniquement des serveurs locaux pour éviter les coûts</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q11" value="1" id="q11_1">
                        <label for="q11_1">Tester uniquement en production pour avoir des données réelles</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q11" value="2" id="q11_2">
                        <label for="q11_2">Utiliser des environnements dédiés qui reproduisent la production</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q11" value="3" id="q11_3">
                        <label for="q11_3">Éviter les tests de charge car ils sont trop complexes</label>
                    </div>
                </div>
                <div class="explanation" id="exp11">
                    <strong>Explication :</strong> La meilleure pratique est d'utiliser des environnements de test dédiés qui reproduisent fidèlement l'architecture de production (même configuration, même dimensionnement). Cela permet de tester en sécurité sans impacter les utilisateurs réels.
                </div>
            </div>

            <!-- Question 12 -->
            <div class="question">
                <h3>Question 12 <span class="competence-badge">C17</span> <span class="difficulty difficile">Difficile</span></h3>
                <p>Dans le contexte des tests automatisés, que signifie 'Test Data Management' ?</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="q12" value="0" id="q12_0">
                        <label for="q12_0">La sauvegarde des résultats de tests</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q12" value="1" id="q12_1">
                        <label for="q12_1">La gestion et préparation des données nécessaires aux tests</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q12" value="2" id="q12_2">
                        <label for="q12_2">L'analyse des performances de la base de données</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="q12" value="3" id="q12_3">
                        <label for="q12_3">La documentation des cas de test</label>
                    </div>
                </div>
                <div class="explanation" id="exp12">
                    <strong>Explication :</strong> Test Data Management (TDM) concerne la gestion, préparation et maintenance des données nécessaires pour exécuter les tests. Cela inclut la création de jeux de données de test, leur isolation, leur nettoyage et leur réinitialisation entre les tests.
                </div>
            </div>

            <button type="button" class="submit-btn" onclick="submitQCM()">Valider le QCM</button>
        </form>

        <div class="results" id="results">
            <h3>Résultats</h3>
            <div id="score"></div>
            <div id="competences"></div>
        </div>
    </div>

    <script>
        // Timer functionality
        let timeLeft = 25 * 60; // 25 minutes in seconds
        const timerElement = document.getElementById('timer');
        
        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeLeft <= 0) {
                submitQCM();
                return;
            }
            
            timeLeft--;
        }
        
        setInterval(updateTimer, 1000);

        // Correct answers
        const correctAnswers = {
            q1: "1",
            q2: "true", 
            q3: "1",
            q4: "association", // Special handling for association questions
            q5: "1",
            q6: "false",
            q7: "1", 
            q8: "1",
            q9: "true",
            q10: "association", // Special handling for association questions
            q11: "2",
            q12: "1"
        };

        const competenceMapping = {
            q1: "C17", q2: "C17", q3: "C18", q4: "C18", q5: "C18", q6: "C18",
            q7: "C18", q8: "C17", q9: "C18", q10: "C17", q11: "C18", q12: "C17"
        };

        const difficultyPoints = {
            q1: 1.5, q2: 1, q3: 1, q4: 1.5, q5: 1, q6: 1.5,
            q7: 1, q8: 1.5, q9: 1, q10: 1.5, q11: 2, q12: 2
        };

        function submitQCM() {
            const form = document.getElementById('qcmForm');
            const formData = new FormData(form);
            
            let totalScore = 0;
            let maxScore = 0;
            let competenceScores = { C17: { score: 0, max: 0 }, C18: { score: 0, max: 0 } };
            
            // Calculate scores
            for (let [question, correctAnswer] of Object.entries(correctAnswers)) {
                const userAnswer = formData.get(question);
                const points = difficultyPoints[question];
                const competence = competenceMapping[question];
                
                maxScore += points;
                competenceScores[competence].max += points;
                
                if (question === 'q4' || question === 'q10') {
                    // Association questions - give full points (simplified for demo)
                    totalScore += points;
                    competenceScores[competence].score += points;
                } else if (userAnswer === correctAnswer) {
                    totalScore += points;
                    competenceScores[competence].score += points;
                }
                
                // Show explanation
                document.getElementById('exp' + question.substring(1)).style.display = 'block';
            }
            
            const percentage = Math.round((totalScore / maxScore) * 100);
            const passed = percentage >= 70;
            
            // Display results
            const resultsDiv = document.getElementById('results');
            const scoreDiv = document.getElementById('score');
            const competencesDiv = document.getElementById('competences');
            
            scoreDiv.innerHTML = `
                <h4>Score global : ${totalScore.toFixed(1)}/${maxScore} (${percentage}%)</h4>
                <p style="color: ${passed ? 'green' : 'red'}; font-weight: bold;">
                    ${passed ? '✅ QCM réussi !' : '❌ QCM non réussi (seuil : 70%)'}
                </p>
            `;
            
            let competenceHtml = '<h4>Scores par compétence :</h4>';
            for (let [comp, data] of Object.entries(competenceScores)) {
                const compPercentage = Math.round((data.score / data.max) * 100);
                competenceHtml += `
                    <p><strong>${comp}</strong> : ${data.score.toFixed(1)}/${data.max} (${compPercentage}%)</p>
                `;
            }
            competencesDiv.innerHTML = competenceHtml;
            
            resultsDiv.style.display = 'block';
            
            // Disable form
            const inputs = form.querySelectorAll('input');
            inputs.forEach(input => input.disabled = true);
            
            // Hide submit button
            document.querySelector('.submit-btn').style.display = 'none';
        }
    </script>
</body>
</html>